<!DOCTYPE html>
<html prefix="og: https://ogp.me/ns#" class="jetpack-lazy-images-js-enabled" slick-uniqueid="3" lang="en-US"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="profile" href="http://gmpg.org/xfn/11"><link rel="pingback" href="https://liberoscarcelli.net/xmlrpc.php"><link type="text/css" media="all" href="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/wpsol_14be2f250a3ed71a9d4ad1d7501cb78f.css" rel="stylesheet"><title>Assembly And Process Stack | Free Course</title><meta name="description" content="How the process stack works and how to manage it with assembly."> <script type="application/ld+json" class="aioseop-schema">{"@context":"https://schema.org","@graph":[{"@type":["Person","Organization"],"@id":"https://liberoscarcelli.net/#person","url":"https://liberoscarcelli.net/","name":"admin","sameAs":[]},{"@type":"WebSite","@id":"https://liberoscarcelli.net/#website","url":"https://liberoscarcelli.net/","name":"Free Technology Courses","publisher":{"@id":"https://liberoscarcelli.net/#person"},"potentialAction":{"@type":"SearchAction","target":"https://liberoscarcelli.net/?s={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"WebPage","@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/#webpage","url":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/","inLanguage":"en-US","name":"Assembly And Process Stack","isPartOf":{"@id":"https://liberoscarcelli.net/#website"},"breadcrumb":{"@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/#breadcrumblist"},"image":{"@type":"ImageObject","@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/#primaryimage","url":"https://i0.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/ReverseEngineering_CourseLogo.jpg?fit=1280%2C720&ssl=1","width":1280,"height":720,"caption":"Reverse Engineering Course Logo"},"primaryImageOfPage":{"@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/#primaryimage"},"datePublished":"2020-02-19T12:47:43+00:00","dateModified":"2020-04-09T09:58:42+00:00","description":"How the process stack works and how to manage it with assembly."},{"@type":"BreadcrumbList","@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/#breadcrumblist","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://liberoscarcelli.net/","url":"https://liberoscarcelli.net/","name":"Free Technology Courses"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://liberoscarcelli.net/courses/","url":"https://liberoscarcelli.net/courses/","name":"Courses"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://liberoscarcelli.net/courses/reverse-engineering/","url":"https://liberoscarcelli.net/courses/reverse-engineering/","name":"Reverse Engineering"}},{"@type":"ListItem","position":4,"item":{"@type":"WebPage","@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/","url":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/","name":"Beginners"}},{"@type":"ListItem","position":5,"item":{"@type":"WebPage","@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/","url":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/","name":"Reverse Engineering For Beginners"}},{"@type":"ListItem","position":6,"item":{"@type":"WebPage","@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/","url":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/","name":"Assembly And Process Stack"}}]}]}</script> <link rel="canonical" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/"><meta property="og:type" content="website"><meta property="og:title" content="Assembly And Process Stack"><meta property="og:description" content="How the process stack works and how to manage it with assembly."><meta property="og:url" content="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/"><meta property="og:site_name" content="Free Technology Courses"><meta property="og:image" content="https://i0.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/ReverseEngineering_CourseLogo.jpg?fit=863%2C485&amp;ssl=1"><meta property="fb:admins" content="100011056717585"><meta property="og:image:secure_url" content="https://i0.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/ReverseEngineering_CourseLogo.jpg?fit=863%2C485&amp;ssl=1"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Assembly And Process Stack"><meta name="twitter:description" content="How the process stack works and how to manage it with assembly."><meta name="twitter:image" content="https://i0.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/ReverseEngineering_CourseLogo.jpg?fit=863%2C485&amp;ssl=1"><link rel="dns-prefetch" href="https://fonts.googleapis.com/"><link rel="dns-prefetch" href="https://s.w.org/"><link rel="stylesheet" id="wp-block-library-css" href="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/style.css" type="text/css" media="all"><link rel="stylesheet" id="genericons-css" href="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/genericons.css" type="text/css" media="all"><link rel="stylesheet" id="colinear-open-sans-lora-css" href="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/css_002.css" type="text/css" media="all"><link rel="stylesheet" id="colinear-inconsolata-css" href="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/css.css" type="text/css" media="all"><link rel="stylesheet" id="social-logos-css" href="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/social-logos.css" type="text/css" media="all"><link rel="stylesheet" id="jetpack_css-css" href="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/jetpack.css" type="text/css" media="all"> <script type="text/javascript" src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/jquery.js"></script> <script type="text/javascript" src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/jquery-migrate.js"></script> <link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://liberoscarcelli.net/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://liberoscarcelli.net/wp-includes/wlwmanifest.xml"><meta name="generator" content="WordPress 5.4"><link rel="shortlink" href="https://liberoscarcelli.net/?p=458"><link rel="alternate" type="application/json+oembed" href="https://liberoscarcelli.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fliberoscarcelli.net%2Fcourses%2Freverse-engineering%2Fbeginners%2Freverse-engineering-for-beginners%2Fassembly-and-process-stack%2F"><link rel="alternate" type="text/xml+oembed" href="https://liberoscarcelli.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fliberoscarcelli.net%2Fcourses%2Freverse-engineering%2Fbeginners%2Freverse-engineering-for-beginners%2Fassembly-and-process-stack%2F&amp;format=xml"><link rel="dns-prefetch" href="https://i0.wp.com/"><link rel="dns-prefetch" href="https://i1.wp.com/"><link rel="dns-prefetch" href="https://i2.wp.com/"><link rel="dns-prefetch" href="https://c0.wp.com/"><link rel="dns-prefetch" href="https://v0.wordpress.com/"><link rel="dns-prefetch" href="https://jetpack.wordpress.com/"><link rel="dns-prefetch" href="https://s0.wp.com/"><link rel="dns-prefetch" href="https://s1.wp.com/"><link rel="dns-prefetch" href="https://s2.wp.com/"><link rel="dns-prefetch" href="https://public-api.wordpress.com/"><link rel="dns-prefetch" href="https://0.gravatar.com/"><link rel="dns-prefetch" href="https://1.gravatar.com/"><link rel="dns-prefetch" href="https://2.gravatar.com/"><link rel="icon" href="https://i1.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/cropped-Logo.jpg?fit=32%2C32&amp;ssl=1" sizes="32x32"><link rel="icon" href="https://i1.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/cropped-Logo.jpg?fit=192%2C192&amp;ssl=1" sizes="192x192"><link rel="apple-touch-icon" href="https://i1.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/cropped-Logo.jpg?fit=180%2C180&amp;ssl=1"><meta name="msapplication-TileImage" content="https://i1.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/cropped-Logo.jpg?fit=270%2C270&amp;ssl=1"> <script type="text/javascript" defer="defer" src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/wpsol_ad4aca591f148295351ff6ffe1173199.js"></script><script src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/wp-emoji-release.js" type="text/javascript" defer="defer"></script></head><body class="page-template-default page page-id-458 page-child parent-pageid-137 custom-background has-menu has-double-sidebar has-right-left-sidebar"><div id="page" class="hfeed site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="masthead" class="site-header" role="banner"><div class="site-branding"> <a href="https://liberoscarcelli.net/" class="site-logo-link" rel="home" itemprop="url"></a><p class="site-title"><a href="https://liberoscarcelli.net/" rel="home">Free Technology Courses</a></p></div><nav id="site-navigation" class="main-navigation" role="navigation"> <button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false"><span class="screen-reader-text">Primary Menu</span></button><div class="menu-mainmenu-container"><ul id="primary-menu" class="menu nav-menu" aria-expanded="false"><li id="menu-item-26" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-26"><a href="https://liberoscarcelli.net/">Home</a></li><li id="menu-item-1555" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1555" aria-haspopup="true"><a>Courses</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-1700" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1700" aria-haspopup="true"><a>Operating Systems</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-1701" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1701" aria-haspopup="true"><a>Beginners</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-1702" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1702"><a href="https://liberoscarcelli.net/courses/operating-systems/beginners/embedded-linux/">Embedded Linux</a></li></ul></li></ul></li><li id="menu-item-1566" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1566" aria-haspopup="true"><a>Programming</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-1569" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1569" aria-haspopup="true"><a>Beginners</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-2341" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2341"><a href="https://liberoscarcelli.net/courses/programming/beginners/algorithms-and-data-structures/">Algorithms And Data Structures</a></li><li id="menu-item-1580" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1580"><a href="https://liberoscarcelli.net/courses/programming/beginners/blockchain-for-beginners/">BlockChain For Beginners</a></li></ul></li></ul></li><li id="menu-item-1557" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1557" aria-haspopup="true"><a>Reverse Engineering</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-1572" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1572" aria-haspopup="true"><a>Beginners</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-1574" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-1574"><a href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/">Reverse Engineering For Beginners</a></li></ul></li></ul></li></ul></li><li id="menu-item-2875" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2875"><a href="https://liberoscarcelli.net/blog/">Blog</a></li><li id="menu-item-2878" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2878" aria-haspopup="true"><a>Info</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-2879" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2879"><a href="https://liberoscarcelli.net/cookie-policy/">Cookie Policy</a></li><li id="menu-item-2880" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-2880"><a href="https://liberoscarcelli.net/privacy-policy/">Privacy Policy</a></li><li id="menu-item-2886" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2886"><a href="https://liberoscarcelli.net/contact-us/">Contact us</a></li></ul></li></ul></div></nav></header><div id="content" class="site-content" style="min-height: 431px;"><div id="primary" class="content-area"><main id="main" class="site-main" role="main"><article id="post-458" class="post-458 page type-page status-publish has-post-thumbnail hentry"><header class="entry-header"><h1 class="entry-title">Assembly And Process Stack</h1></header><div class="entry-content"><p class="has-background has-light-green-cyan-background-color">A stack is a data structure where items are added and then removed in reverse order (<strong>L</strong>ast <strong>I</strong>n <strong>F</strong>irst <strong>O</strong>ut).
 To add an item you will need to push it in and remove an item you will 
need to pop it out. Therefore, in an imaginary stack, using pseudo-code:</p><pre class="EnlighterJSRAW" data-enlighter-language="shell" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="false" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="" style="display: none;">PUSH stack 10
PUSH stack 20
PUSH stack 30
POP stack --&gt; This one prints 30
POP stack --&gt; This one prints 20</pre><div class="EnlighterJSWrapper classicEnlighterJSWrapper"><ul class="hoverEnabled classicEnlighterJS EnlighterJS"><li class=" odd"><span class="">PUSH stack 10</span></li><li class=" even"><span class="">PUSH stack 20</span></li><li class=" odd"><span class="">PUSH stack 30</span></li><li class=" even"><span class="">POP stack --&gt; This one prints 30</span></li><li class=" odd"><span class="">POP stack --&gt; This one prints 20</span></li></ul><pre style="display: none;">PUSH stack 10
PUSH stack 20
PUSH stack 30
POP stack --&gt; This one prints 30
POP stack --&gt; This one prints 20</pre></div><p class="has-background has-vivid-green-cyan-background-color">The following table represents the program memory layout.</p><figure class="wp-block-table"><table class="has-subtle-pale-green-background-color has-background"><tbody><tr><td class="has-text-align-center" data-align="center"><strong>⇊ ⇊ ⇊ STACK ⇊ ⇊ ⇊</strong></td><td>High Memory</td></tr><tr><td class="has-text-align-center" data-align="center">…</td><td></td></tr><tr><td class="has-text-align-center" data-align="center">empty</td><td></td></tr><tr><td class="has-text-align-center" data-align="center">…</td><td></td></tr><tr><td class="has-text-align-center" data-align="center"><strong>⇈ ⇈ ⇈ HEAP ⇈ ⇈ ⇈</strong></td><td>High Memory</td></tr><tr><td class="has-text-align-center" data-align="center"><strong>BSS</strong></td><td>Low Memory</td></tr><tr><td class="has-text-align-center" data-align="center"><strong>DATA</strong></td><td>Low Memory</td></tr><tr><td class="has-text-align-center" data-align="center"><strong>TEXT</strong></td><td>Low Memory</td></tr><tr><td class="has-text-align-center" data-align="center"><strong>RESERVED</strong></td><td>Low Memory</td></tr></tbody></table></figure><p class="has-background has-vivid-green-cyan-background-color">Two big sections are present: low memory and high memory. In the low memory section, the following can be found:</p><ul><li>BSS section for uninitialized data.</li><li>Data section for initialized data.</li><li>Text section is for the body of the program.</li></ul><p class="has-background has-vivid-green-cyan-background-color">In the high memory section the <strong>stack</strong> (which grows downwards) and the <strong>heap</strong> (which grows upwards) are located. Stack and heap are not supposed to collide, as the program will crash otherwise!</p><p class="has-background has-light-green-cyan-background-color">The <strong>heap</strong> area:</p><ul><li>Is for dynamic memory allocation (reference types, objects and JRE classes).</li><li>Is not automatically deallocated.</li><li>Is where mechanisms such as GC run to remove objects that lost their references.</li><li>Grows upwards.</li><li>Is slow.</li><li>Is not thread-safe.</li></ul><p class="has-background has-vivid-green-cyan-background-color">The <strong>stack</strong> area:</p><ul><li>Is
 for automatic allocation and deallocation of memory (primitive types, 
call frames for function calls, references to heap objects, short-lived 
and method-specific values).</li><li>It grows downwards.</li><li>Is fast.</li><li>Is thread-safe.</li></ul><p class="has-background has-very-light-gray-background-color">Considering that RSP is the register stack pointer and it grows downwards:</p><ul><li>Popping a value out of a stack returns the location pointed to by RSP and increases RSP.</li><li>Pushing a value into a stack decreases RSP and places the new item at the new memory location pointed to by RSP.</li></ul><p class="has-background has-very-light-gray-background-color">In the assebly pop and push functions work as follows:</p><pre class="EnlighterJSRAW" data-enlighter-language="asm" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="" style="display: none;">; [RSP] copied into "op", RSP = RSP + DQ
pop   &lt;operand&gt;
; RSP = RSP - DQ, "op" copied into [RSP]
push  &lt;operand&gt;</pre><div class="EnlighterJSWrapper classicEnlighterJSWrapper"><ol class="hoverEnabled classicEnlighterJS EnlighterJS"><li class=" odd"><span class="co1">; [RSP] copied into "op", RSP = RSP + DQ</span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw3">pop</span><span class="">   &lt;operand&gt;</span></li><li class=" odd"><span class=""></span><span class="co1">; RSP = RSP - DQ, "op" copied into [RSP]</span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw3">push</span><span class="">  &lt;operand&gt;</span></li></ol><pre style="display: none;">; [RSP] copied into "op", RSP = RSP + DQ
pop   &lt;operand&gt;
; RSP = RSP - DQ, "op" copied into [RSP]
push  &lt;operand&gt;</pre></div><p class="has-background has-very-light-gray-background-color">The
 “operand” cannot be an immediate value. Only registers and memory are 
allowed. For 64-bit platforms these instructions operate on DQ 
(quadwords = 8 bytes).</p><p class="has-background has-vivid-green-cyan-background-color">Stack and heap management strategies change across different systems: please always double check the official documentation!</p><p class="has-background has-light-green-cyan-background-color">The following example will allow the reader to practice the skills learnt in this class:</p><pre class="EnlighterJSRAW" data-enlighter-language="asm" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="" style="display: none;">section	.text
   global _start
_start:
   ; On DDD prompt: x/6d $rbx
   mov rbx, vals
   mov r15, 0        ; A flag
   mov rcx, 3        ; How many items in the stack?
doPush:
   ; On DDD prompt: x/d $rsp
   push	qword [rbx + r15 * 8]
   inc r15
   loop doPush
   mov rbx, vals
   mov r15, 0	
   mov rcx, 3
doPop:
   ; On DDD prompt: p $rax
   pop rax
   ; On DDD prompt: x/6d $rbx
   mov qword [rbx + r15 * 8], rax
   inc r15
   loop doPop
   ; Terminate Linux program
   mov rax, 60
   mov rdi, 0
   syscall
section .data
   vals dq 1000, 1001, 1002</pre><div class="EnlighterJSWrapper classicEnlighterJSWrapper"><ol class="hoverEnabled classicEnlighterJS EnlighterJS"><li class=" odd"><span class="kw3">section</span><span class="">  .text</span></li><li class=" even"><span class="">   </span><span class="kw3">global</span><span class=""> _start</span></li><li class=" odd"><span class=""></span><span class="kw1">_start:</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="co1">; On DDD prompt: x/6d $rbx</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="kw3">mov</span><span class=""> rbx, vals</span></li><li class=" even"><span class="">   </span><span class="kw3">mov</span><span class=""> r15, </span><span class="nu0">0</span><span class="">        </span><span class="co1">; A flag</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="kw3">mov</span><span class=""> rcx, </span><span class="nu0">3</span><span class="">        </span><span class="co1">; How many items in the stack?</span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw1">doPush:</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="co1">; On DDD prompt: x/d $rsp</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="kw3">push</span><span class="">  qword [rbx + r15 * </span><span class="nu0">8</span><span class="">]</span></li><li class=" odd"><span class="">   </span><span class="kw3">inc</span><span class=""> r15</span></li><li class=" even"><span class="">   </span><span class="kw3">loop</span><span class=""> doPush</span></li><li class=" odd"><span class="">   </span><span class="kw3">mov</span><span class=""> rbx, vals</span></li><li class=" even"><span class="">   </span><span class="kw3">mov</span><span class=""> r15, </span><span class="nu0">0</span><span class="">  </span></li><li class=" odd"><span class="">   </span><span class="kw3">mov</span><span class=""> rcx, </span><span class="nu0">3</span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw1">doPop:</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="co1">; On DDD prompt: p $rax</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="kw3">pop</span><span class=""> rax</span></li><li class=" odd"><span class="">   </span><span class="co1">; On DDD prompt: x/6d $rbx</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="kw3">mov</span><span class=""> qword [rbx + r15 * </span><span class="nu0">8</span><span class="">], rax</span></li><li class=" odd"><span class="">   </span><span class="kw3">inc</span><span class=""> r15</span></li><li class=" even"><span class="">   </span><span class="kw3">loop</span><span class=""> doPop</span></li><li class=" odd"><span class="">   </span><span class="co1">; Terminate Linux program</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="kw3">mov</span><span class=""> rax, </span><span class="nu0">60</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="kw3">mov</span><span class=""> rdi, </span><span class="nu0">0</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="kw3">syscall</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw3">section</span><span class=""> .data</span></li><li class=" even"><span class="">   </span><span class="kw3">vals</span><span class=""> dq </span><span class="nu0">1000</span><span class="">, </span><span class="nu0">1001</span><span class="">, </span><span class="nu0">1002</span></li></ol><pre style="display: none;">section	.text
   global _start
_start:
   ; On DDD prompt: x/6d $rbx
   mov rbx, vals
   mov r15, 0        ; A flag
   mov rcx, 3        ; How many items in the stack?
doPush:
   ; On DDD prompt: x/d $rsp
   push	qword [rbx + r15 * 8]
   inc r15
   loop doPush
   mov rbx, vals
   mov r15, 0	
   mov rcx, 3
doPop:
   ; On DDD prompt: p $rax
   pop rax
   ; On DDD prompt: x/6d $rbx
   mov qword [rbx + r15 * 8], rax
   inc r15
   loop doPop
   ; Terminate Linux program
   mov rax, 60
   mov rdi, 0
   syscall
section .data
   vals dq 1000, 1001, 1002</pre></div><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow noopener noreferrer" data-shared="sharing-twitter-458" class="share-twitter sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/?share=twitter&amp;nb=1" target="_blank" title="Click to share on Twitter"><span>Twitter</span></a></li><li class="share-facebook"><a rel="nofollow noopener noreferrer" data-shared="sharing-facebook-458" class="share-facebook sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/?share=facebook&amp;nb=1" target="_blank" title="Click to share on Facebook"><span>Facebook</span></a></li><li class="share-reddit"><a rel="nofollow noopener noreferrer" data-shared="" class="share-reddit sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/?share=reddit&amp;nb=1" target="_blank" title="Click to share on Reddit"><span>Reddit</span></a></li><li class="share-jetpack-whatsapp"><a rel="nofollow noopener noreferrer" data-shared="" class="share-jetpack-whatsapp sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/?share=jetpack-whatsapp&amp;nb=1" target="_blank" title="Click to share on WhatsApp"><span>WhatsApp</span></a></li><li class="share-linkedin"><a rel="nofollow noopener noreferrer" data-shared="sharing-linkedin-458" class="share-linkedin sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/?share=linkedin&amp;nb=1" target="_blank" title="Click to share on LinkedIn"><span>LinkedIn</span></a></li><li class="share-telegram"><a rel="nofollow noopener noreferrer" data-shared="" class="share-telegram sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/?share=telegram&amp;nb=1" target="_blank" title="Click to share on Telegram"><span>Telegram</span></a></li><li class="share-print"><a rel="nofollow noopener noreferrer" data-shared="" class="share-print sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/#print" target="_blank" title="Click to print"><span>Print</span></a></li><li class="share-end"></li></ul></div></div></div></div><footer class="entry-footer"></footer></article><div id="comments" class="comments-area"><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-and-process-stack/#respond" style="display:none;">Cancel reply</a></small></h3><form id="commentform" class="comment-form"> <iframe title="Comment Form" src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/a.html" style="width: 100%; height: 57px; border: 0px none;" name="jetpack_remote_comment" class="jetpack_remote_comment" id="jetpack_remote_comment" sandbox="allow-same-origin allow-top-navigation allow-scripts allow-forms allow-popups" scrolling="no"></iframe> <!--[if !IE]><!--> <!--<![endif]--><input type="hidden" name="js-spam-prevention" value="1d07142f224691100d7d33814349a3c9"></form></div> <input type="hidden" name="comment_parent" id="comment_parent" value=""></div></main></div><div id="secondary" class="widget-area" role="complementary"><div class="left-sidebar"><aside id="mc4wp_form_widget-2" class="widget widget_mc4wp_form_widget"><h2 class="widget-title">Newsletter</h2><form id="mc4wp-form-1" class="mc4wp-form mc4wp-form-3032" method="post" data-id="3032" data-name="NewsLetter"><div class="mc4wp-form-fields"><p> <label>Email address: <input type="email" name="EMAIL" placeholder="Your email address" required=""> </label></p><p> <label> <input name="AGREE_TO_TERMS" type="checkbox" value="1" required=""> I am older than 18 years of age and I agree to have my data transferred to MailChimp in accordance with liberoscarcelli.net's <a href="https://liberoscarcelli.net/privacy-policy/" style="color: rgb(6,69,173)" target="_blank">privacy policy</a> </label></p><p> <input type="submit" value="Sign up"></p></div><label style="display: none !important;">Leave this field empty if you're human: <input type="text" name="_mc4wp_honeypot" tabindex="-1" autocomplete="off"></label><input type="hidden" name="_mc4wp_timestamp" value="1586938765"><input type="hidden" name="_mc4wp_form_id" value="3032"><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-1"><div class="mc4wp-response"></div></form></aside><aside id="blog-stats-2" class="widget blog-stats"><h2 class="widget-title">Blog Stats</h2><ul><li>816 hits</li></ul></aside></div><div class="right-sidebar"><aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="https://liberoscarcelli.net/"> <label> <span class="screen-reader-text">Search for:</span> <input type="search" class="search-field" placeholder="Search …" name="s"> </label> <input type="submit" class="search-submit screen-reader-text" value="Search"></form></aside><aside id="text-2" class="widget widget_text"><h2 class="widget-title">Copyright</h2><div class="textwidget"><p>Libero
 Scarcelli and liberocarcelli.net ©, 2020. Unauthorized use and/or 
duplication of this material without express and written permission from
 this site’s author and/or owner is strictly prohibited</p></div></aside></div></div></div><div id="tertiary" class="widget-area-footer" role="complementary"><div class="footer-widget"></div></div><footer id="colophon" class="site-footer" role="contentinfo"><div class="site-info"> <a href="https://wordpress.org/">Proudly powered by WordPress</a> <span class="sep genericon genericon-wordpress"></span> Theme: Colinear by <a href="https://wordpress.com/themes/" rel="designer">Automattic</a>.</div></footer></div> <script type="text/javascript" src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/photon.js"></script> <script type="text/javascript" src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/comment-reply.js"></script> <script type="text/javascript" src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/eu-cookie-law.js"></script><aside id="eu_cookie_law_widget-3" class="widget widget_eu_cookie_law_widget top"></aside> <script type="text/javascript" src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/lazy-images.js"></script> <script type="text/javascript" src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/wp-embed.js"></script> <script type="text/javascript" src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/sharing.js"></script> <!--[if IE]> %%SCRIPT3faeacbae74b7b1384d64b7d63b5cfd8%%PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgoJCQlpZiAoIDAgPT09IHdpbmRvdy5sb2NhdGlvbi5oYXNoLmluZGV4T2YoICcjY29tbWVudC0nICkgKSB7CgkJCQkvLyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkgZG9lc24ndCByZXNwZWN0IHRoZSBIYXNoIGluIElFCgkJCQl3aW5kb3cubG9jYXRpb24uaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoOwoJCQl9CgkJPC9zY3JpcHQ+%%SCRIPT%% <![endif]--> <script type="text/javascript" src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/e-202016.js" async="async" defer="defer"></script> <script type="text/javascript">_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.4.1',blog:'172909830',post:'458',tz:'0',srv:'liberoscarcelli.net'} ]);
	_stq.push([ 'clickTrackerInit', '172909830', '458' ]);</script> 

<img src="5_Assembly%20And%20Process%20Stack%20|%20Free%20Course_files/g.gif" alt=":)" id="wpstats" width="6" height="5"></body></html>
<!-- Cache served by WPSOL CACHE - Last modified: Wed, 15 Apr 2020 08:19:25 GMT -->