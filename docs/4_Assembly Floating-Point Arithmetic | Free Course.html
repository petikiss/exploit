<!DOCTYPE html>
<html prefix="og: https://ogp.me/ns#" class="jetpack-lazy-images-js-enabled" slick-uniqueid="3" lang="en-US"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="profile" href="http://gmpg.org/xfn/11"><link rel="pingback" href="https://liberoscarcelli.net/xmlrpc.php"><link type="text/css" media="all" href="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/wpsol_14be2f250a3ed71a9d4ad1d7501cb78f.css" rel="stylesheet"><title>Assembly Floating-Point Arithmetic | Free Course</title><meta name="description" content="Basic arithmetic with floating-point numbers and assembly."> <script type="application/ld+json" class="aioseop-schema">{"@context":"https://schema.org","@graph":[{"@type":["Person","Organization"],"@id":"https://liberoscarcelli.net/#person","url":"https://liberoscarcelli.net/","name":"admin","sameAs":[]},{"@type":"WebSite","@id":"https://liberoscarcelli.net/#website","url":"https://liberoscarcelli.net/","name":"Free Technology Courses","publisher":{"@id":"https://liberoscarcelli.net/#person"},"potentialAction":{"@type":"SearchAction","target":"https://liberoscarcelli.net/?s={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"WebPage","@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/#webpage","url":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/","inLanguage":"en-US","name":"Assembly Floating-Point Arithmetic","isPartOf":{"@id":"https://liberoscarcelli.net/#website"},"breadcrumb":{"@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/#breadcrumblist"},"image":{"@type":"ImageObject","@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/#primaryimage","url":"https://i0.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/ReverseEngineering_CourseLogo.jpg?fit=1280%2C720&ssl=1","width":1280,"height":720,"caption":"Reverse Engineering Course Logo"},"primaryImageOfPage":{"@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/#primaryimage"},"datePublished":"2020-02-19T07:49:38+00:00","dateModified":"2020-04-09T10:01:33+00:00","description":"Basic arithmetic with floating-point numbers and assembly."},{"@type":"BreadcrumbList","@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/#breadcrumblist","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://liberoscarcelli.net/","url":"https://liberoscarcelli.net/","name":"Free Technology Courses"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://liberoscarcelli.net/courses/","url":"https://liberoscarcelli.net/courses/","name":"Courses"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://liberoscarcelli.net/courses/reverse-engineering/","url":"https://liberoscarcelli.net/courses/reverse-engineering/","name":"Reverse Engineering"}},{"@type":"ListItem","position":4,"item":{"@type":"WebPage","@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/","url":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/","name":"Beginners"}},{"@type":"ListItem","position":5,"item":{"@type":"WebPage","@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/","url":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/","name":"Reverse Engineering For Beginners"}},{"@type":"ListItem","position":6,"item":{"@type":"WebPage","@id":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/","url":"https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/","name":"Assembly Floating-Point Arithmetic"}}]}]}</script> <link rel="canonical" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/"><meta property="og:type" content="website"><meta property="og:title" content="Assembly Floating-Point Arithmetic"><meta property="og:description" content="Basic arithmetic with floating-point numbers and assembly."><meta property="og:url" content="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/"><meta property="og:site_name" content="Free Technology Courses"><meta property="og:image" content="https://i0.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/ReverseEngineering_CourseLogo.jpg?fit=863%2C485&amp;ssl=1"><meta property="fb:admins" content="100011056717585"><meta property="og:image:secure_url" content="https://i0.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/ReverseEngineering_CourseLogo.jpg?fit=863%2C485&amp;ssl=1"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Assembly Floating-Point Arithmetic"><meta name="twitter:description" content="Basic arithmetic with floating-point numbers and assembly."><meta name="twitter:image" content="https://i0.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/ReverseEngineering_CourseLogo.jpg?fit=863%2C485&amp;ssl=1"><link rel="dns-prefetch" href="https://fonts.googleapis.com/"><link rel="dns-prefetch" href="https://s.w.org/"><link rel="stylesheet" id="wp-block-library-css" href="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/style.css" type="text/css" media="all"><link rel="stylesheet" id="genericons-css" href="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/genericons.css" type="text/css" media="all"><link rel="stylesheet" id="colinear-open-sans-lora-css" href="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/css_002.css" type="text/css" media="all"><link rel="stylesheet" id="colinear-inconsolata-css" href="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/css.css" type="text/css" media="all"><link rel="stylesheet" id="social-logos-css" href="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/social-logos.css" type="text/css" media="all"><link rel="stylesheet" id="jetpack_css-css" href="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/jetpack.css" type="text/css" media="all"> <script type="text/javascript" src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/jquery.js"></script> <script type="text/javascript" src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/jquery-migrate.js"></script> <link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://liberoscarcelli.net/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://liberoscarcelli.net/wp-includes/wlwmanifest.xml"><meta name="generator" content="WordPress 5.4"><link rel="shortlink" href="https://liberoscarcelli.net/?p=335"><link rel="alternate" type="application/json+oembed" href="https://liberoscarcelli.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fliberoscarcelli.net%2Fcourses%2Freverse-engineering%2Fbeginners%2Freverse-engineering-for-beginners%2Fassembly-floating-point-arithmetic%2F"><link rel="alternate" type="text/xml+oembed" href="https://liberoscarcelli.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fliberoscarcelli.net%2Fcourses%2Freverse-engineering%2Fbeginners%2Freverse-engineering-for-beginners%2Fassembly-floating-point-arithmetic%2F&amp;format=xml"><link rel="dns-prefetch" href="https://i0.wp.com/"><link rel="dns-prefetch" href="https://i1.wp.com/"><link rel="dns-prefetch" href="https://i2.wp.com/"><link rel="dns-prefetch" href="https://c0.wp.com/"><link rel="dns-prefetch" href="https://v0.wordpress.com/"><link rel="dns-prefetch" href="https://jetpack.wordpress.com/"><link rel="dns-prefetch" href="https://s0.wp.com/"><link rel="dns-prefetch" href="https://s1.wp.com/"><link rel="dns-prefetch" href="https://s2.wp.com/"><link rel="dns-prefetch" href="https://public-api.wordpress.com/"><link rel="dns-prefetch" href="https://0.gravatar.com/"><link rel="dns-prefetch" href="https://1.gravatar.com/"><link rel="dns-prefetch" href="https://2.gravatar.com/"><link rel="icon" href="https://i1.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/cropped-Logo.jpg?fit=32%2C32&amp;ssl=1" sizes="32x32"><link rel="icon" href="https://i1.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/cropped-Logo.jpg?fit=192%2C192&amp;ssl=1" sizes="192x192"><link rel="apple-touch-icon" href="https://i1.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/cropped-Logo.jpg?fit=180%2C180&amp;ssl=1"><meta name="msapplication-TileImage" content="https://i1.wp.com/liberoscarcelli.net/wp-content/uploads/2020/04/cropped-Logo.jpg?fit=270%2C270&amp;ssl=1"> <script type="text/javascript" defer="defer" src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/wpsol_60d366633c22c2281bf237b32d9a1df2.js"></script><script src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/wp-emoji-release.js" type="text/javascript" defer="defer"></script></head><body class="page-template-default page page-id-335 page-child parent-pageid-137 custom-background has-menu has-double-sidebar has-right-left-sidebar"><div id="page" class="hfeed site"> <a class="skip-link screen-reader-text" href="#content">Skip to content</a><header id="masthead" class="site-header" role="banner"><div class="site-branding"> <a href="https://liberoscarcelli.net/" class="site-logo-link" rel="home" itemprop="url"></a><p class="site-title"><a href="https://liberoscarcelli.net/" rel="home">Free Technology Courses</a></p></div><nav id="site-navigation" class="main-navigation" role="navigation"> <button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false"><span class="screen-reader-text">Primary Menu</span></button><div class="menu-mainmenu-container"><ul id="primary-menu" class="menu nav-menu" aria-expanded="false"><li id="menu-item-26" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-26"><a href="https://liberoscarcelli.net/">Home</a></li><li id="menu-item-1555" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1555" aria-haspopup="true"><a>Courses</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-1700" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1700" aria-haspopup="true"><a>Operating Systems</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-1701" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1701" aria-haspopup="true"><a>Beginners</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-1702" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1702"><a href="https://liberoscarcelli.net/courses/operating-systems/beginners/embedded-linux/">Embedded Linux</a></li></ul></li></ul></li><li id="menu-item-1566" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1566" aria-haspopup="true"><a>Programming</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-1569" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1569" aria-haspopup="true"><a>Beginners</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-2341" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2341"><a href="https://liberoscarcelli.net/courses/programming/beginners/algorithms-and-data-structures/">Algorithms And Data Structures</a></li><li id="menu-item-1580" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1580"><a href="https://liberoscarcelli.net/courses/programming/beginners/blockchain-for-beginners/">BlockChain For Beginners</a></li></ul></li></ul></li><li id="menu-item-1557" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1557" aria-haspopup="true"><a>Reverse Engineering</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-1572" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1572" aria-haspopup="true"><a>Beginners</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-1574" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-1574"><a href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/">Reverse Engineering For Beginners</a></li></ul></li></ul></li></ul></li><li id="menu-item-2875" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2875"><a href="https://liberoscarcelli.net/blog/">Blog</a></li><li id="menu-item-2878" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2878" aria-haspopup="true"><a>Info</a><button class="dropdown-toggle" aria-expanded="false"><span class="screen-reader-text">expand child menu</span></button><ul class="sub-menu"><li id="menu-item-2879" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2879"><a href="https://liberoscarcelli.net/cookie-policy/">Cookie Policy</a></li><li id="menu-item-2880" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-2880"><a href="https://liberoscarcelli.net/privacy-policy/">Privacy Policy</a></li><li id="menu-item-2886" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2886"><a href="https://liberoscarcelli.net/contact-us/">Contact us</a></li></ul></li></ul></div></nav></header><div id="content" class="site-content" style="min-height: 431px;"><div id="primary" class="content-area"><main id="main" class="site-main" role="main"><article id="post-335" class="post-335 page type-page status-publish has-post-thumbnail hentry"><header class="entry-header"><h1 class="entry-title">Assembly Floating-Point Arithmetic</h1></header><div class="entry-content"><p class="has-background has-light-green-cyan-background-color">Floating-Point operations must run using dedicated registers: the <strong>XMM</strong>
 registers, created according the SSE extension. Therefore, sixteen new 
128-bit registers, named XMM0 through XMM15, were added. Susequently, 
these registers have been renamed to <strong>YMM</strong> and expanded to contain up to 256 bits according to the <strong>AVX</strong> extension. The <strong>MXCSR</strong> register contains control and status information for the XMMs ones.</p><p class="has-background has-pale-cyan-blue-background-color">As floating-points have to be moved into floating-points registers before they can be operated upon, the instructions <strong>MOVSS</strong> and <strong>MOVSD</strong>
 can be used to achieve this goal. They both behave exactly like MOV, as
 they accept two parameters, the first one being the destination. 
However, while MOVSS is to be used when the source is 32-bit long, MOVSD
 is for 64-bit long sources. Also, the following rules apply:</p><ul><li>Both operands must be of the correct size.</li><li>Both operands cannot be memory.</li><li>Neither operands can be immediate.</li></ul><p class="has-background has-very-light-gray-background-color">As <strong>integers</strong>
 have to be converted before they can be used with floating-points, the 
following instructions can be used according to the size of source and 
destination:</p><pre class="EnlighterJSRAW" data-enlighter-language="asm" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="" style="display: none;">;cvtss2sd   &lt;xmm&gt;,   &lt;src&gt;
cvtss2sd    xmm3,    xmm3      ; 32b FP &gt; 64b FP
;cvtsd2ss   &lt;xmm&gt;,   &lt;src&gt;     
cvtss2sd    xmm3,    xmm3      ; 64b FP &gt; 32b FP
;cvtss2si   &lt;xmm&gt;,   &lt;src&gt;     
cvtss2sd    xmm3,    xmm3      ; 32b FP &gt; 32b I
;cvtsd2si   &lt;xmm&gt;,   &lt;src&gt;
cvtss2sd    xmm3,    xmm3      ; 64b FP &gt; 32b I</pre><div class="EnlighterJSWrapper classicEnlighterJSWrapper"><ol class="hoverEnabled classicEnlighterJS EnlighterJS"><li class=" odd"><span class="co1">;cvtss2sd   &lt;xmm&gt;,   &lt;src&gt;</span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw3">cvtss2sd</span><span class="">    xmm3,    xmm3      </span><span class="co1">; 32b FP &gt; 64b FP</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="co1">;cvtsd2ss   &lt;xmm&gt;,   &lt;src&gt;     </span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw3">cvtss2sd</span><span class="">    xmm3,    xmm3      </span><span class="co1">; 64b FP &gt; 32b FP</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="co1">;cvtss2si   &lt;xmm&gt;,   &lt;src&gt;     </span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw3">cvtss2sd</span><span class="">    xmm3,    xmm3      </span><span class="co1">; 32b FP &gt; 32b I</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="co1">;cvtsd2si   &lt;xmm&gt;,   &lt;src&gt;</span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw3">cvtss2sd</span><span class="">    xmm3,    xmm3      </span><span class="co1">; 64b FP &gt; 32b I</span></li></ol><pre style="display: none;">;cvtss2sd   &lt;xmm&gt;,   &lt;src&gt;
cvtss2sd    xmm3,    xmm3      ; 32b FP &gt; 64b FP
;cvtsd2ss   &lt;xmm&gt;,   &lt;src&gt;     
cvtss2sd    xmm3,    xmm3      ; 64b FP &gt; 32b FP
;cvtss2si   &lt;xmm&gt;,   &lt;src&gt;     
cvtss2sd    xmm3,    xmm3      ; 32b FP &gt; 32b I
;cvtsd2si   &lt;xmm&gt;,   &lt;src&gt;
cvtss2sd    xmm3,    xmm3      ; 64b FP &gt; 32b I</pre></div><p class="has-background has-light-green-cyan-background-color">For <strong>floating-point additions</strong>,
 the instructions ADDSS (single precision) and ADDSD (double precision) 
can be used. They work both like ADD: the destination XMM register, 
which is the first parameter, will contain the result. The following 
rules apply:</p><ul><li>Destination and source must be of the same size.</li><li>No memory to memory operation is allowed.</li><li>Source operand may not be immediate.</li></ul><p class="has-background has-very-light-gray-background-color">For <strong>floating-point subtractions</strong>,
 the instructions SUBSS (single precision) and SUBSD (double precision) 
can be used. They both work like SUB: the destination XMM register, 
which is the first parameter, will contain the result. The following 
rule apply:</p><ul><li>Destination and source must be of the same size.</li><li>No memory to memory operation is allowed.</li><li>Source operand may not be immediate.</li></ul><p class="has-background has-light-green-cyan-background-color">For <strong>floating-point multiplications</strong>,
 the instructions MULSS (single precision) and MULSD (double precision) 
can be used: the destination XMM register, which is the first parameter,
 will contain the result obtained by multiplying the first parameter by 
the second one:</p><pre class="EnlighterJSRAW" data-enlighter-language="asm" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="" style="display: none;">;mulss   &lt;xmm&gt;,   &lt;src&gt;		
mulss    xmm2,    dword [var1]
;mulsd   &lt;xmm&gt;,   &lt;src&gt;		
mulsd    xmm0,    qword [var2]</pre><div class="EnlighterJSWrapper classicEnlighterJSWrapper"><ol class="hoverEnabled classicEnlighterJS EnlighterJS"><li class=" odd"><span class="co1">;mulss   &lt;xmm&gt;,   &lt;src&gt;    </span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw3">mulss</span><span class="">    xmm2,    dword [var1]</span></li><li class=" odd"><span class=""></span><span class="co1">;mulsd   &lt;xmm&gt;,   &lt;src&gt;    </span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw3">mulsd</span><span class="">    xmm0,    qword [var2]</span></li></ol><pre style="display: none;">;mulss   &lt;xmm&gt;,   &lt;src&gt;		
mulss    xmm2,    dword [var1]
;mulsd   &lt;xmm&gt;,   &lt;src&gt;		
mulsd    xmm0,    qword [var2]</pre></div><p class="has-background has-light-green-cyan-background-color">The following rules apply:</p><ul><li>Destination and source must be of the same size.</li><li>No memory to memory operation is allowed.</li><li>Source operand may not be immediate.</li></ul><p class="has-background has-very-light-gray-background-color">For <strong>floating-point divisions</strong>,
 the instructions DIVSS (single precisions) and DIVSD (double precision)
 can be used: the destination XMM register, which is the first 
parameter, will contain the result obtained by dividing the first 
parameter by the second one. The following rules apply:</p><ul><li>Destination and source must be of the same size</li><li>No memory to memory operation is allowed</li><li>Source operand may not be immediate</li></ul><p class="has-background has-pale-cyan-blue-background-color">The following program shows some of the above instructions:</p><pre class="EnlighterJSRAW" data-enlighter-language="asm" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="" style="display: none;">section	.text
   global _start

; In DDD console: info all-registers
; In DDD console: register MXCSR
_start:
   movss xmm0, dword [sPVar1]
   movss dword [sPVar2], xmm0
   movss xmm1, dword [sPVar2]

   movsd xmm2, qword [dPVar1]
   movsd qword [dPVar2], xmm2
   movsd xmm3, qword [dPVar2]	

   mov eax, dword [sPVarInt]
   cvtsi2ss xmm0, eax         ; Int -&gt; F-P

   ; Two memory locations, two operations! 
   movss xmm0, dword [sPVar3]
   addss xmm0, dword [sPVar4]
   movss dword [sPTot], xmm0
   ; This will not work!!!
   ; addss dword [sPVar3], dword [sPVar4]	

   ; MXCSR register will change now!
   movss xmm0, dword [sPVar1]
   divss xmm0, dword [sPDiv]

   ; Terminate program in Linux
   mov rax, 60
   mov rdi, 0
   syscall
section .data
   sPVar1 dd 1.41
   sPVar2 dd 0.0
   dPVar1 dq 2.82
   dPVar2 dq 0.0
   sPVarInt dd 10
   sPVar3 dd 55.21
   sPVar4 dd 11.15
   sPTot dd 0.0
   sPDiv dd 0.0</pre><div class="EnlighterJSWrapper classicEnlighterJSWrapper"><ol class="hoverEnabled classicEnlighterJS EnlighterJS"><li class=" odd"><span class="kw3">section</span><span class="">  .text</span></li><li class=" even"><span class="">   </span><span class="kw3">global</span><span class=""> _start</span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class=""></span><span class="co1">; In DDD console: info all-registers</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="co1">; In DDD console: register MXCSR</span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw1">_start:</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="kw3">movss</span><span class=""> xmm0, dword [sPVar1]</span></li><li class=" even"><span class="">   </span><span class="kw3">movss</span><span class=""> dword [sPVar2], xmm0</span></li><li class=" odd"><span class="">   </span><span class="kw3">movss</span><span class=""> xmm1, dword [sPVar2]</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">   </span><span class="kw3">movsd</span><span class=""> xmm2, qword [dPVar1]</span></li><li class=" even"><span class="">   </span><span class="kw3">movsd</span><span class=""> qword [dPVar2], xmm2</span></li><li class=" odd"><span class="">   </span><span class="kw3">movsd</span><span class=""> xmm3, qword [dPVar2]  </span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">   </span><span class="kw3">mov</span><span class=""> eax, dword [sPVarInt]</span></li><li class=" even"><span class="">   </span><span class="kw3">cvtsi2ss</span><span class=""> xmm0, eax         </span><span class="co1">; Int -&gt; F-P</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">   </span><span class="co1">; Two memory locations, two operations! </span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="kw3">movss</span><span class=""> xmm0, dword [sPVar3]</span></li><li class=" even"><span class="">   </span><span class="kw3">addss</span><span class=""> xmm0, dword [sPVar4]</span></li><li class=" odd"><span class="">   </span><span class="kw3">movss</span><span class=""> dword [sPTot], xmm0</span></li><li class=" even"><span class="">   </span><span class="co1">; This will not work!!!</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="co1">; addss dword [sPVar3], dword [sPVar4]  </span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">   </span><span class="co1">; MXCSR register will change now!</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="kw3">movss</span><span class=""> xmm0, dword [sPVar1]</span></li><li class=" odd"><span class="">   </span><span class="kw3">divss</span><span class=""> xmm0, dword [sPDiv]</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">   </span><span class="co1">; Terminate program in Linux</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="kw3">mov</span><span class=""> rax, </span><span class="nu0">60</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="kw3">mov</span><span class=""> rdi, </span><span class="nu0">0</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="kw3">syscall</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw3">section</span><span class=""> .data</span></li><li class=" even"><span class="">   </span><span class="kw3">sPVar1</span><span class=""> dd </span><span class="nu0">1</span><span class="">.</span><span class="nu0">41</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="kw3">sPVar2</span><span class=""> dd </span><span class="nu0">0</span><span class="">.</span><span class="nu0">0</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="kw3">dPVar1</span><span class=""> dq </span><span class="nu0">2</span><span class="">.</span><span class="nu0">82</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="kw3">dPVar2</span><span class=""> dq </span><span class="nu0">0</span><span class="">.</span><span class="nu0">0</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="kw3">sPVarInt</span><span class=""> dd </span><span class="nu0">10</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="kw3">sPVar3</span><span class=""> dd </span><span class="nu0">55</span><span class="">.</span><span class="nu0">21</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="kw3">sPVar4</span><span class=""> dd </span><span class="nu0">11</span><span class="">.</span><span class="nu0">15</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="kw3">sPTot</span><span class=""> dd </span><span class="nu0">0</span><span class="">.</span><span class="nu0">0</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="kw3">sPDiv</span><span class=""> dd </span><span class="nu0">0</span><span class="">.</span><span class="nu0">0</span></li></ol><pre style="display: none;">section	.text
   global _start

; In DDD console: info all-registers
; In DDD console: register MXCSR
_start:
   movss xmm0, dword [sPVar1]
   movss dword [sPVar2], xmm0
   movss xmm1, dword [sPVar2]

   movsd xmm2, qword [dPVar1]
   movsd qword [dPVar2], xmm2
   movsd xmm3, qword [dPVar2]	

   mov eax, dword [sPVarInt]
   cvtsi2ss xmm0, eax         ; Int -&gt; F-P

   ; Two memory locations, two operations! 
   movss xmm0, dword [sPVar3]
   addss xmm0, dword [sPVar4]
   movss dword [sPTot], xmm0
   ; This will not work!!!
   ; addss dword [sPVar3], dword [sPVar4]	

   ; MXCSR register will change now!
   movss xmm0, dword [sPVar1]
   divss xmm0, dword [sPDiv]

   ; Terminate program in Linux
   mov rax, 60
   mov rdi, 0
   syscall
section .data
   sPVar1 dd 1.41
   sPVar2 dd 0.0
   dPVar1 dq 2.82
   dPVar2 dq 0.0
   sPVarInt dd 10
   sPVar3 dd 55.21
   sPVar4 dd 11.15
   sPTot dd 0.0
   sPDiv dd 0.0</pre></div><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow noopener noreferrer" data-shared="sharing-twitter-335" class="share-twitter sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/?share=twitter&amp;nb=1" target="_blank" title="Click to share on Twitter"><span>Twitter</span></a></li><li class="share-facebook"><a rel="nofollow noopener noreferrer" data-shared="sharing-facebook-335" class="share-facebook sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/?share=facebook&amp;nb=1" target="_blank" title="Click to share on Facebook"><span>Facebook</span></a></li><li class="share-reddit"><a rel="nofollow noopener noreferrer" data-shared="" class="share-reddit sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/?share=reddit&amp;nb=1" target="_blank" title="Click to share on Reddit"><span>Reddit</span></a></li><li class="share-jetpack-whatsapp"><a rel="nofollow noopener noreferrer" data-shared="" class="share-jetpack-whatsapp sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/?share=jetpack-whatsapp&amp;nb=1" target="_blank" title="Click to share on WhatsApp"><span>WhatsApp</span></a></li><li class="share-linkedin"><a rel="nofollow noopener noreferrer" data-shared="sharing-linkedin-335" class="share-linkedin sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/?share=linkedin&amp;nb=1" target="_blank" title="Click to share on LinkedIn"><span>LinkedIn</span></a></li><li class="share-telegram"><a rel="nofollow noopener noreferrer" data-shared="" class="share-telegram sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/?share=telegram&amp;nb=1" target="_blank" title="Click to share on Telegram"><span>Telegram</span></a></li><li class="share-print"><a rel="nofollow noopener noreferrer" data-shared="" class="share-print sd-button no-icon" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/#print" target="_blank" title="Click to print"><span>Print</span></a></li><li class="share-end"></li></ul></div></div></div></div><footer class="entry-footer"></footer></article><div id="comments" class="comments-area"><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://liberoscarcelli.net/courses/reverse-engineering/beginners/reverse-engineering-for-beginners/assembly-floating-point-arithmetic/#respond" style="display:none;">Cancel reply</a></small></h3><form id="commentform" class="comment-form"> <iframe title="Comment Form" src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/a.html" style="width: 100%; height: 57px; border: 0px none;" name="jetpack_remote_comment" class="jetpack_remote_comment" id="jetpack_remote_comment" sandbox="allow-same-origin allow-top-navigation allow-scripts allow-forms allow-popups" scrolling="no"></iframe> <!--[if !IE]><!--> <!--<![endif]--><input type="hidden" name="js-spam-prevention" value="1d07142f224691100d7d33814349a3c9"></form></div> <input type="hidden" name="comment_parent" id="comment_parent" value=""></div></main></div><div id="secondary" class="widget-area" role="complementary"><div class="left-sidebar"><aside id="mc4wp_form_widget-2" class="widget widget_mc4wp_form_widget"><h2 class="widget-title">Newsletter</h2><form id="mc4wp-form-1" class="mc4wp-form mc4wp-form-3032" method="post" data-id="3032" data-name="NewsLetter"><div class="mc4wp-form-fields"><p> <label>Email address: <input type="email" name="EMAIL" placeholder="Your email address" required=""> </label></p><p> <label> <input name="AGREE_TO_TERMS" type="checkbox" value="1" required=""> I am older than 18 years of age and I agree to have my data transferred to MailChimp in accordance with liberoscarcelli.net's <a href="https://liberoscarcelli.net/privacy-policy/" style="color: rgb(6,69,173)" target="_blank">privacy policy</a> </label></p><p> <input type="submit" value="Sign up"></p></div><label style="display: none !important;">Leave this field empty if you're human: <input type="text" name="_mc4wp_honeypot" tabindex="-1" autocomplete="off"></label><input type="hidden" name="_mc4wp_timestamp" value="1586938348"><input type="hidden" name="_mc4wp_form_id" value="3032"><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-1"><div class="mc4wp-response"></div></form></aside><aside id="blog-stats-2" class="widget blog-stats"><h2 class="widget-title">Blog Stats</h2><ul><li>816 hits</li></ul></aside></div><div class="right-sidebar"><aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="https://liberoscarcelli.net/"> <label> <span class="screen-reader-text">Search for:</span> <input type="search" class="search-field" placeholder="Search …" name="s"> </label> <input type="submit" class="search-submit screen-reader-text" value="Search"></form></aside><aside id="text-2" class="widget widget_text"><h2 class="widget-title">Copyright</h2><div class="textwidget"><p>Libero
 Scarcelli and liberocarcelli.net ©, 2020. Unauthorized use and/or 
duplication of this material without express and written permission from
 this site’s author and/or owner is strictly prohibited</p></div></aside></div></div></div><div id="tertiary" class="widget-area-footer" role="complementary"><div class="footer-widget"></div></div><footer id="colophon" class="site-footer" role="contentinfo"><div class="site-info"> <a href="https://wordpress.org/">Proudly powered by WordPress</a> <span class="sep genericon genericon-wordpress"></span> Theme: Colinear by <a href="https://wordpress.com/themes/" rel="designer">Automattic</a>.</div></footer></div> <script type="text/javascript" src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/photon.js"></script> <script type="text/javascript" src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/comment-reply.js"></script> <script type="text/javascript" src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/eu-cookie-law.js"></script><aside id="eu_cookie_law_widget-3" class="widget widget_eu_cookie_law_widget top"></aside> <script type="text/javascript" src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/lazy-images.js"></script> <script type="text/javascript" src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/wp-embed.js"></script> <script type="text/javascript" src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/sharing.js"></script> <!--[if IE]> %%SCRIPT3faeacbae74b7b1384d64b7d63b5cfd8%%PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgoJCQlpZiAoIDAgPT09IHdpbmRvdy5sb2NhdGlvbi5oYXNoLmluZGV4T2YoICcjY29tbWVudC0nICkgKSB7CgkJCQkvLyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkgZG9lc24ndCByZXNwZWN0IHRoZSBIYXNoIGluIElFCgkJCQl3aW5kb3cubG9jYXRpb24uaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoOwoJCQl9CgkJPC9zY3JpcHQ+%%SCRIPT%% <![endif]--> <script type="text/javascript" src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/e-202016.js" async="async" defer="defer"></script> <script type="text/javascript">_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.4.1',blog:'172909830',post:'335',tz:'0',srv:'liberoscarcelli.net'} ]);
	_stq.push([ 'clickTrackerInit', '172909830', '335' ]);</script> 

<img src="4_Assembly%20Floating-Point%20Arithmetic%20|%20Free%20Course_files/g.gif" alt=":)" id="wpstats" width="6" height="5"></body></html>
<!-- Cache served by WPSOL CACHE - Last modified: Wed, 15 Apr 2020 08:12:29 GMT -->